#include <iostream>
#include "MathTools.h"
#include "Slice.h"
#include <limits.h>
#include "cudaTools.h"

using std::cout;
using std::endl;

/*----------------------------------------------------------------------*\
 |*			Declaration 					*|
 \*---------------------------------------------------------------------*/

/*--------------------------------------*\
 |*		Imported	 	*|
 \*-------------------------------------*/

/*--------------------------------------*\
 |*		Public			*|
 \*-------------------------------------*/

bool useSlice(void);

/*--------------------------------------*\
 |*		Private			*|
 \*-------------------------------------*/

/*----------------------------------------------------------------------*\
 |*			Implementation 					*|
 \*---------------------------------------------------------------------*/

/*--------------------------------------*\
 |*		Public			*|
 \*-------------------------------------*/

bool useSlice()
    {
    //int nbSlice = INT_MAX;
    int nbSlice = 400000000;

    dim3 dg = dim3(24, 1, 1);
    dim3 db = dim3(128, 1, 1);

    float pi;
    // SearchPI
	{
	Slice slice(nbSlice, dg, db);
	slice.process();
	pi = slice.getPi();
	}
    cout << "Pi value = " << pi << endl;
    return MathTools::isEquals(pi, PI_FLOAT, 0.01f);
    }

/*--------------------------------------*\
 |*		Private			*|
 \*-------------------------------------*/

/*----------------------------------------------------------------------*\
 |*			End	 					*|
 \*---------------------------------------------------------------------*/
